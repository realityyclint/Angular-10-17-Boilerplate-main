"use strict";(self.webpackChunkangular_10_17_updated_boilerplate=self.webpackChunkangular_10_17_updated_boilerplate||[]).push([[271],{271:(N,_,c)=>{c.r(_),c.d(_,{DepartmentsModule:()=>J});var s=c(6895),l=c(433),d=c(7784),t=c(8256),p=c(5631),g=c(7110),m=c(1585);function b(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",13),t._uU(2),t.TgZ(3,"button",14),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.alertService.clear())}),t.qZA()(),t.BQk()}if(2&n){const e=o.ngIf;t.xp6(1),t.Gre("alert alert-",e.type," alert-dismissible fade show"),t.xp6(1),t.hij(" ",e.message," ")}}function f(n,o){1&n&&(t.ynx(0),t.TgZ(1,"div",15)(2,"div",16)(3,"span",17),t._uU(4,"Loading..."),t.qZA()()(),t.BQk())}function h(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,a=t.oxw(4);return t.KtG(a.edit(r.id))}),t._UZ(1,"i",27),t._uU(2," Edit "),t.qZA()}}function v(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,a=t.oxw(4);return t.KtG(a.delete(r.id))}),t._UZ(1,"i",29),t._uU(2," Delete "),t.qZA()}}function x(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td")(2,"strong"),t._uU(3),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t.YNc(9,h,3,0,"button",24),t.YNc(10,v,3,0,"button",25),t.qZA()()),2&n){const e=o.$implicit,i=t.oxw(4);t.xp6(3),t.Oqu(e.name),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Oqu(e.employeeCount),t.xp6(2),t.Q6J("ngIf","Admin"===i.account.role),t.xp6(1),t.Q6J("ngIf","Admin"===i.account.role)}}function Z(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",19)(2,"table",20)(3,"thead",21)(4,"tr")(5,"th"),t._uU(6,"Name"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Description"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Employee Count"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Actions"),t.qZA()()(),t.TgZ(13,"tbody",22),t.YNc(14,x,11,5,"tr",23),t.qZA()()(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(14),t.Q6J("ngForOf",e.departments)}}function T(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"button",39),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,a=t.oxw(4);return t.KtG(a.edit(r.id))}),t._UZ(2,"i",27),t._uU(3," Edit "),t.qZA(),t.TgZ(4,"button",40),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,a=t.oxw(4);return t.KtG(a.delete(r.id))}),t._UZ(5,"i",29),t._uU(6," Delete "),t.qZA()()}}function A(n,o){if(1&n&&(t.TgZ(0,"div",32)(1,"div",33)(2,"div",34)(3,"h5",35),t._UZ(4,"i",36),t._uU(5),t.qZA(),t.TgZ(6,"p",37),t._uU(7),t.qZA(),t.TgZ(8,"p",38),t._uU(9),t.qZA(),t.YNc(10,T,7,0,"div",8),t.qZA()()()),2&n){const e=o.$implicit,i=t.oxw(4);t.xp6(5),t.hij("",e.name," "),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.hij("Employees: ",e.employeeCount,""),t.xp6(1),t.Q6J("ngIf","Admin"===i.account.role)}}function C(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",30),t.YNc(2,A,11,4,"div",31),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",e.departments)}}function y(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Z,15,1,"ng-container",8),t.YNc(2,C,3,1,"ng-container",8),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf","table"===e.viewMode),t.xp6(1),t.Q6J("ngIf","card"===e.viewMode)}}function k(n,o){1&n&&(t.TgZ(0,"div",41),t._UZ(1,"i",42),t._uU(2,"No departments found. "),t.qZA())}function w(n,o){if(1&n&&(t.YNc(0,y,3,2,"ng-container",9),t.YNc(1,k,3,0,"ng-template",null,18,t.W1O)),2&n){const e=t.MAs(2),i=t.oxw();t.Q6J("ngIf",(null==i.departments?null:i.departments.length)>0)("ngIfElse",e)}}function U(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",43),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.add())}),t._UZ(1,"i",44),t._uU(2," Add Department "),t.qZA()}}let L=(()=>{class n{constructor(e,i,r,a){this.departmentService=e,this.accountService=i,this.router=r,this.alertService=a,this.departments=[],this.isLoading=!1,this.viewMode="table"}ngOnInit(){this.account=this.accountService.accountValue,this.loadDepartments()}setViewMode(e){this.viewMode=e}loadDepartments(){this.isLoading=!0,this.departmentService.getAll().subscribe({next:e=>{this.departments=e,this.isLoading=!1},error:e=>{this.isLoading=!1,this.alertService.error("Failed to load departments: "+e.message)}})}add(){this.router.navigate(["/departments/add"])}edit(e){this.router.navigate(["/departments/edit",e])}delete(e){confirm("Are you sure you want to delete this department?")&&this.departmentService.delete(e).subscribe({next:()=>{this.alertService.success("Department deleted successfully"),this.loadDepartments()},error:i=>{this.alertService.error("Delete failed: "+i.message)}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.n),t.Y36(g.B),t.Y36(d.F0),t.Y36(m.c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-department-list"]],decls:17,vars:10,consts:[[1,"container","my-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"fw-bold","text-primary"],[1,"bi","bi-diagram-3","me-2"],["role","group","aria-label","Display options",1,"btn-group"],[1,"btn","btn-outline-secondary",3,"click"],[1,"bi","bi-table"],[1,"bi","bi-grid-3x3-gap"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["contentSection",""],[1,"mt-4","text-end"],["class","btn btn-success",3,"click",4,"ngIf"],["role","alert"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"text-center","my-4"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["noDepartments",""],[1,"table-responsive","shadow","rounded-4","animate__animated","animate__fadeIn"],[1,"table","table-hover","align-middle","mb-0","bg-white","rounded-4","overflow-hidden"],[1,"table-dark","text-center"],[1,"text-center"],[4,"ngFor","ngForOf"],["class","btn btn-outline-primary px-3 py-1 me-2",3,"click",4,"ngIf"],["class","btn btn-outline-danger px-3 py-1",3,"click",4,"ngIf"],[1,"btn","btn-outline-primary","px-3","py-1","me-2",3,"click"],[1,"bi","bi-pencil-square","me-1"],[1,"btn","btn-outline-danger","px-3","py-1",3,"click"],[1,"bi","bi-trash","me-1"],[1,"row","g-3","animate__animated","animate__fadeIn"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"card","shadow-sm","border-0","h-100"],[1,"card-body"],[1,"card-title","text-primary"],[1,"bi","bi-building","me-2"],[1,"card-text"],[1,"text-muted","small","mb-2"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"text-center","text-muted","py-4"],[1,"bi","bi-info-circle","me-2"],[1,"btn","btn-success",3,"click"],[1,"bi","bi-plus-circle","me-2"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._UZ(3,"i",3),t._uU(4,"Departments "),t.qZA(),t.TgZ(5,"div",4)(6,"button",5),t.NdJ("click",function(){return i.viewMode="table"}),t._UZ(7,"i",6),t.qZA(),t.TgZ(8,"button",5),t.NdJ("click",function(){return i.viewMode="card"}),t._UZ(9,"i",7),t.qZA()()(),t.YNc(10,b,4,4,"ng-container",8),t.ALo(11,"async"),t.YNc(12,f,5,0,"ng-container",9),t.YNc(13,w,3,2,"ng-template",null,10,t.W1O),t.TgZ(15,"div",11),t.YNc(16,U,3,0,"button",12),t.qZA()()),2&e){const r=t.MAs(14);t.xp6(6),t.ekj("active","table"===i.viewMode),t.xp6(2),t.ekj("active","card"===i.viewMode),t.xp6(2),t.Q6J("ngIf",t.lcZ(11,8,i.alertService.alert)),t.xp6(2),t.Q6J("ngIf",i.isLoading)("ngIfElse",r),t.xp6(4),t.Q6J("ngIf","Admin"===i.account.role)}},dependencies:[s.sg,s.O5,s.Ov],encapsulation:2}),n})();function M(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",13),t._uU(2),t.TgZ(3,"button",14),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.alertService.clear())}),t.qZA()(),t.BQk()}if(2&n){const e=o.ngIf;t.xp6(1),t.Gre("alert alert-",e.type," alert-dismissible fade show"),t.xp6(1),t.hij(" ",e.message," ")}}let u=(()=>{class n{constructor(e,i,r,a){this.departmentService=e,this.route=i,this.router=r,this.alertService=a,this.id=null,this.department={name:"",description:""}}ngOnInit(){this.id=this.route.snapshot.params.id?+this.route.snapshot.params.id:null,this.id&&this.departmentService.getById(this.id).subscribe({next:e=>this.department=e,error:e=>this.alertService.error("Failed to load department: "+e.message)})}save(){this.alertService.clear(),this.id?this.departmentService.update(this.id,this.department).subscribe({next:()=>{this.alertService.success("Department updated successfully",{keepAfterRouteChange:!0}),this.router.navigate(["/departments"])},error:e=>this.alertService.error("Update failed: "+e.message)}):this.departmentService.create(this.department).subscribe({next:()=>{this.alertService.success("Department created successfully",{keepAfterRouteChange:!0}),this.router.navigate(["/departments"])},error:e=>this.alertService.error("Creation failed: "+e.message)})}cancel(){this.router.navigate(["/departments"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.n),t.Y36(d.gz),t.Y36(d.F0),t.Y36(m.c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-department-add-edit"]],decls:21,vars:6,consts:[[1,"card","shadow","rounded-4","border-0"],[1,"card-header","bg-primary","text-white","fw-semibold","fs-5","rounded-top-4"],[1,"card-body","p-4","bg-light"],[4,"ngIf"],[1,"mb-4"],[1,"form-label","fw-semibold"],["type","text","placeholder","Enter department name",1,"form-control","form-control-lg","rounded-3",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter short description",1,"form-control","form-control-lg","rounded-3",3,"ngModel","ngModelChange"],[1,"text-center","mt-4"],[1,"btn","btn-success","px-4","py-2","fw-semibold","me-3","rounded-pill","shadow-sm",3,"click"],[1,"bi","bi-check-circle","me-1"],[1,"btn","btn-outline-secondary","px-4","py-2","fw-semibold","rounded-pill",3,"click"],[1,"bi","bi-x-circle","me-1"],["role","alert"],["type","button","aria-label","Close",1,"btn-close",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2),t.YNc(4,M,4,4,"ng-container",3),t.ALo(5,"async"),t.TgZ(6,"div",4)(7,"label",5),t._uU(8,"Name"),t.qZA(),t.TgZ(9,"input",6),t.NdJ("ngModelChange",function(a){return i.department.name=a}),t.qZA()(),t.TgZ(10,"div",4)(11,"label",5),t._uU(12,"Description"),t.qZA(),t.TgZ(13,"input",7),t.NdJ("ngModelChange",function(a){return i.department.description=a}),t.qZA()(),t.TgZ(14,"div",8)(15,"button",9),t.NdJ("click",function(){return i.save()}),t._UZ(16,"i",10),t._uU(17," Save "),t.qZA(),t.TgZ(18,"button",11),t.NdJ("click",function(){return i.cancel()}),t._UZ(19,"i",12),t._uU(20," Cancel "),t.qZA()()()()),2&e&&(t.xp6(2),t.hij(" ",i.id?"Edit":"Add"," Department "),t.xp6(2),t.Q6J("ngIf",t.lcZ(5,4,i.alertService.alert)),t.xp6(5),t.Q6J("ngModel",i.department.name),t.xp6(4),t.Q6J("ngModel",i.department.description))},dependencies:[s.O5,l.Fj,l.JJ,l.On,s.Ov],encapsulation:2}),n})();const q=[{path:"",component:L},{path:"add",component:u},{path:"edit/:id",component:u}];let J=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[s.ez,l.u5,l.UX,d.Bz.forChild(q)]}),n})()}}]);